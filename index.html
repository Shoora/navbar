<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Navbar by qubyte</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <link rel="stylesheet" href="stylesheets/navbar.css">
    <script src="javascripts/navbar.js"></script>
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Navbar</h1>
        <p>A tiny library to create nav elements that smart update on scroll to keep the correct item active. Fast, supports older browsers, and has no dependencies.</p>
        <p class="view"><a href="https://github.com/qubyte/navbar">View the Project on GitHub <small>qubyte/navbar</small></a></p>
        <ul>
          <li><a href="https://github.com/qubyte/navbar/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/qubyte/navbar/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/qubyte/navbar">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a id="navbar" class="anchor" href="#navbar" aria-hidden="true"><span class="octicon octicon-link"></span></a>navbar</h1>

<p><code>navbar</code> is a tiny library to help you create navigation bars that listen for
scroll events and calculate which element is closest to the top left of the
window, giving the associated navigation list item a <code>navbar-active</code> class.
You feed it a list of elements and a function that returns <code>navbar</code> list items,
and it returns a <code>nav</code> element populated with navigation items. You can dress
this up with CSS to make it look how you like.</p>

<p>To the right are a set of three blobs.
This is an example of a navbar instance. It's been configured to track the
<code>h2</code> elements on this page. Try scrolling around to observe the correct element
being set to active as the page moves. This one has also been configured to be clickable
and to show the text of the <code>h2</code> element it represents on hover.

<h2>
<a id="support" class="anchor" href="#support" aria-hidden="true"><span class="octicon octicon-link"></span></a>Support</h2>

<p>This library comes with built in support for loading with RequireJS and
Browserify. If you prefer to use neither, then you can still load it the old
fashioned way, which will append the <code>navbar</code> function to the <code>window</code> object
(as in the demo).</p>

<p>This library has no production dependencies, making loading with any of the
above mentioned schemes a breeze!</p>

<p>This library should support any browser that implements
<code>EventTarget.addEventListener</code> or <code>EventTarget.attachEvent</code>, which should cover
almost any browser in use today, and certainly IE &gt;= 6. If you find that navbar
does not support a browser newer than IE6 then I consider it a bug, so please
open an issue for it.</p>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<p><code>navbar</code> is a function that takes an options object with the fields:</p>

<table>
<thead>
<tr>
<th>name</th>
<th>required</th>
<th>default</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>elementList</code></td>
<td>true</td>
<td>N/A</td>
<td>An array or array-like object populated with elements to be represented in the nav list.</td>
</tr>
<tr>
<td><code>makeNavListItem</code></td>
<td>true</td>
<td>N/A</td>
<td>A function that takes an element and creates a navigation list item from it.</td>
</tr>
<tr>
<td><code>target</code></td>
<td>false</td>
<td><code>document</code></td>
<td>A DOM element to listen to for scroll events.</td>
</tr>
<tr>
<td><code>tagName</code></td>
<td>false</td>
<td><code>nav</code></td>
<td>Define the tag of element for navbar to return.</td>
</tr>
<tr>
<td><code>debounceTime</code></td>
<td>false</td>
<td><code>undefined</code></td>
<td>After a scroll event, subsequent scroll events will be ignored for <code>debouceTime</code> milliseconds.</td>
</tr>
</tbody>
</table>

<p>The navbar listens to scroll events, and will add a <code>navbar-active</code> class to the
nav list item which is closest to the top of the window. This is pretty much all
that <code>navbar</code> does, although I like to think that the interface that it presents
is nice for defining a <code>nav</code> element. Only one element will have this class at
any given time. If a <code>debounceTime</code> is given (recommended), then <code>navbar</code> will
ignore further scroll events for that amount of time. Depending on your use case
this may enhance performance.</p>

<h2>
<a id="example" class="anchor" href="#example" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h2>

<p>Similar to the <a href="/demo">demo</a>, except using Browserify rather than just appending
to the window object:</p>

<div class="highlight highlight-javascript"><pre><span class="pl-s">var</span> navbar <span class="pl-k">=</span> <span class="pl-s3">require</span>(<span class="pl-s1"><span class="pl-pds">'</span>navbar<span class="pl-pds">'</span></span>);

<span class="pl-c">// This function is where you define a list element, giving it classes,</span>
<span class="pl-c">// registering listeners, and appending children as you like. This one couples</span>
<span class="pl-c">// with demo.css to produce labels that appear when a the list item is hovered</span>
<span class="pl-c">// over.</span>
<span class="pl-st">function</span> <span class="pl-en">makeNavListItem</span>(<span class="pl-vpf">element</span>) {
  <span class="pl-s">var</span> li <span class="pl-k">=</span> <span class="pl-s3">document</span>.<span class="pl-s3">createElement</span>(<span class="pl-s1"><span class="pl-pds">'</span>li<span class="pl-pds">'</span></span>);
  <span class="pl-s">var</span> label <span class="pl-k">=</span> <span class="pl-s3">document</span>.<span class="pl-s3">createElement</span>(<span class="pl-s1"><span class="pl-pds">'</span>span<span class="pl-pds">'</span></span>);
  <span class="pl-s">var</span> spot <span class="pl-k">=</span> <span class="pl-s3">document</span>.<span class="pl-s3">createElement</span>(<span class="pl-s1"><span class="pl-pds">'</span>span<span class="pl-pds">'</span></span>);

  <span class="pl-c">// A label should have a nav-label class and contain the same text as the</span>
  <span class="pl-c">// element.</span>
  label.<span class="pl-sc">className</span> <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">'</span>nav-label<span class="pl-pds">'</span></span>;
  label.textContent <span class="pl-k">=</span> element.textContent.trim();

  spot.<span class="pl-sc">className</span> <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">'</span>nav-spot<span class="pl-pds">'</span></span>;
  spot.textContent <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">'</span>‚óè<span class="pl-pds">'</span></span>;

  li.<span class="pl-s3">appendChild</span>(label);
  li.<span class="pl-s3">appendChild</span>(spot);

  <span class="pl-c">// Custom className for our CSS purposes only. navbar will work around</span>
  <span class="pl-c">// existing classes by appending or removing the navbar-active class.</span>
  li.<span class="pl-sc">className</span> <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">'</span>nav-element<span class="pl-pds">'</span></span>;

  <span class="pl-c">// I want clicks on nav items to scroll the relevant title into view.</span>
  li.addEventListener(<span class="pl-s1"><span class="pl-pds">'</span>click<span class="pl-pds">'</span></span>, <span class="pl-st">function</span> () {
    element.scrollIntoView(<span class="pl-c1">true</span>);
  });

  <span class="pl-c">// Remember to return the list element at the end!</span>
  <span class="pl-k">return</span> li;
}

<span class="pl-c">// Generate a nav list element for every h2 element on the page.</span>
<span class="pl-s">var</span> nav <span class="pl-k">=</span> navbar({
  elementList<span class="pl-k">:</span> <span class="pl-s3">document</span>.querySelectorAll(<span class="pl-s1"><span class="pl-pds">'</span>h2<span class="pl-pds">'</span></span>),
  makeNavListItem<span class="pl-k">:</span> makeNavListItem,
  debounceTime<span class="pl-k">:</span> <span class="pl-c1">100</span>
});

<span class="pl-c">// Finally, append the element to the document. In this demo the navbar is</span>
<span class="pl-c">// fixed, so I have simply appended to the body.</span>
<span class="pl-s3">document</span>.querySelector(<span class="pl-s1"><span class="pl-pds">'</span>body<span class="pl-pds">'</span></span>).<span class="pl-s3">appendChild</span>(nav);</pre></div>
      </section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/qubyte">qubyte</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    <script src="javascripts/main.js"></script>
  </body>
</html>
